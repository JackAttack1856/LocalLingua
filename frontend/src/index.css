@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96.1%;
    --border: 214.3 31.8% 91.4%;
    --surface: 0 0% 100%;
    --surface-2: 210 40% 98%;

    /* Monochrome accent */
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --ring: 222.2 47.4% 11.2%;

    --danger: 0 72% 51%;
    --success: 142 76% 36%;
    --shadow: 222.2 84% 4.9%;
    --swap-gap: 1rem;
  }

  html.dark {
    --background: 222.2 25% 8%;
    --foreground: 210 40% 98%;
    --muted: 222.2 20% 14%;
    --border: 222.2 18% 20%;
    --surface: 222.2 22% 10%;
    --surface-2: 222.2 18% 14%;

    /* Monochrome accent flips for contrast */
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 25% 8%;
    --ring: 210 40% 98%;

    --danger: 0 84% 60%;
    --success: 142 70% 45%;
    --shadow: 0 0% 0%;
    --swap-gap: 1rem;
  }

  html {
    color-scheme: light;
  }

  html.dark {
    color-scheme: dark;
  }
}

html,
body {
  height: 100%;
}

body {
  @apply bg-background text-foreground antialiased;
  font-family: Helvetica, Arial, ui-sans-serif, system-ui, -apple-system, "Apple Color Emoji", "Segoe UI Emoji";
}

@media (prefers-reduced-motion: no-preference) {
  body {
    transition:
      background-color 200ms cubic-bezier(0.16, 1, 0.3, 1),
      color 200ms cubic-bezier(0.16, 1, 0.3, 1);
  }
}

@keyframes locallingua-border-trail {
  to {
    stroke-dashoffset: -100;
  }
}

@keyframes locallingua-swap-left {
  to {
    transform: translateX(calc(100% + var(--swap-gap)));
  }
}

@keyframes locallingua-swap-right {
  to {
    transform: translateX(calc(-100% - var(--swap-gap)));
  }
}

@layer utilities {
  .border-trail-overlay {
    pointer-events: none;
    position: absolute;
    inset: 0;
    border-radius: inherit;
  }

  .swap-item {
    will-change: transform;
  }

  .swap-animate .swap-left {
    animation: locallingua-swap-left 320ms cubic-bezier(0.22, 1, 0.36, 1);
    animation-fill-mode: forwards;
  }

  .swap-animate .swap-right {
    animation: locallingua-swap-right 320ms cubic-bezier(0.22, 1, 0.36, 1);
    animation-fill-mode: forwards;
  }

  .border-trail-stroke {
    stroke-dasharray: 4 16;
    animation: locallingua-border-trail 2200ms linear infinite;
  }

  .border-trail-glow {
    stroke-dasharray: 4 16;
    animation: locallingua-border-trail 2200ms linear infinite;
    filter: drop-shadow(0 0 6px rgba(59, 130, 246, 0.55));
  }

  @media (prefers-reduced-motion: reduce) {
    .swap-animate .swap-left,
    .swap-animate .swap-right,
    .border-trail-stroke,
    .border-trail-glow {
      animation: none;
    }
  }
}
